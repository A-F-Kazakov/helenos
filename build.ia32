#! /bin/sh

COMPILER=""

while [ "$#" -gt 0 ]; do
	case "$1" in
		native)
			COMPILER="$COMPILER NATIVE_COMPILER=yes"
			;;
		strong)
			COMPILER="$COMPILER STRONG_ORDERING=yes"
			;;
		*)
			echo "Supported arguments: native strong"
			exit 1
			;;
	esac
	shift
done

make all ARCH=ia32 $COMPILER
( cd uspace/libc && make all ARCH=ia32 $COMPILER )
( cd uspace && make all ARCH=ia32 $COMPILER )
